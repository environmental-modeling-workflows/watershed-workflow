<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utilities &mdash; Watershed Workflow 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=f2a433a1"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Gallery" href="gallery.html" />
    <link rel="prev" title="Data Manipulation" href="data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Watershed Workflow
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/mesh_coweeta.html">Example: mesh a delineated watershed</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hilev.html">High Level API</a></li>
<li class="toctree-l2"><a class="reference internal" href="sources.html">Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry.html">Geometry and Shape Manipulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh.html">Meshes</a></li>
<li class="toctree-l2"><a class="reference internal" href="data.html">Data Manipulation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-watershed_workflow.crs">CRS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.is_native"><code class="docutils literal notranslate"><span class="pre">is_native()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_proj"><code class="docutils literal notranslate"><span class="pre">from_proj()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.to_proj"><code class="docutils literal notranslate"><span class="pre">to_proj()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_fiona"><code class="docutils literal notranslate"><span class="pre">from_fiona()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.to_fiona"><code class="docutils literal notranslate"><span class="pre">to_fiona()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_rasterio"><code class="docutils literal notranslate"><span class="pre">from_rasterio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.to_rasterio"><code class="docutils literal notranslate"><span class="pre">to_rasterio()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_epsg"><code class="docutils literal notranslate"><span class="pre">from_epsg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.to_epsg"><code class="docutils literal notranslate"><span class="pre">to_epsg()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_cartopy"><code class="docutils literal notranslate"><span class="pre">from_cartopy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.to_cartopy"><code class="docutils literal notranslate"><span class="pre">to_cartopy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_string"><code class="docutils literal notranslate"><span class="pre">from_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.from_wkt"><code class="docutils literal notranslate"><span class="pre">from_wkt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.to_wkt"><code class="docutils literal notranslate"><span class="pre">to_wkt()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.default_crs"><code class="docutils literal notranslate"><span class="pre">default_crs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.default_alaska_crs"><code class="docutils literal notranslate"><span class="pre">default_alaska_crs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.daymet_crs"><code class="docutils literal notranslate"><span class="pre">daymet_crs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.daymet_crs_native"><code class="docutils literal notranslate"><span class="pre">daymet_crs_native()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.latlon_crs"><code class="docutils literal notranslate"><span class="pre">latlon_crs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.crs.equal"><code class="docutils literal notranslate"><span class="pre">equal()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-watershed_workflow.plot">Plotting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.Labeler"><code class="docutils literal notranslate"><span class="pre">Labeler</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.get_ax"><code class="docutils literal notranslate"><span class="pre">get_ax()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.huc"><code class="docutils literal notranslate"><span class="pre">huc()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.hucs"><code class="docutils literal notranslate"><span class="pre">hucs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.shapes"><code class="docutils literal notranslate"><span class="pre">shapes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.river"><code class="docutils literal notranslate"><span class="pre">river()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.rivers"><code class="docutils literal notranslate"><span class="pre">rivers()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.shply"><code class="docutils literal notranslate"><span class="pre">shply()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.shplys"><code class="docutils literal notranslate"><span class="pre">shplys()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.triangulation"><code class="docutils literal notranslate"><span class="pre">triangulation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.mesh"><code class="docutils literal notranslate"><span class="pre">mesh()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.raster"><code class="docutils literal notranslate"><span class="pre">raster()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.dem"><code class="docutils literal notranslate"><span class="pre">dem()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.basemap"><code class="docutils literal notranslate"><span class="pre">basemap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.plot.feather_axis_limits"><code class="docutils literal notranslate"><span class="pre">feather_axis_limits()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.enumerated_colors"><code class="docutils literal notranslate"><span class="pre">enumerated_colors()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.cm_mapper"><code class="docutils literal notranslate"><span class="pre">cm_mapper()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.cm_discrete"><code class="docutils literal notranslate"><span class="pre">cm_discrete()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.float_list_type"><code class="docutils literal notranslate"><span class="pre">float_list_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.generate_indexed_colormap"><code class="docutils literal notranslate"><span class="pre">generate_indexed_colormap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.generate_nlcd_colormap"><code class="docutils literal notranslate"><span class="pre">generate_nlcd_colormap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.generate_modis_colormap"><code class="docutils literal notranslate"><span class="pre">generate_modis_colormap()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.colors.colorbar_index"><code class="docutils literal notranslate"><span class="pre">colorbar_index()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-watershed_workflow.utils">Generic utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.create_shply"><code class="docutils literal notranslate"><span class="pre">create_shply()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.deepcopy"><code class="docutils literal notranslate"><span class="pre">deepcopy()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.create_bounds"><code class="docutils literal notranslate"><span class="pre">create_bounds()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.create_raster_profile"><code class="docutils literal notranslate"><span class="pre">create_raster_profile()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.create_empty_raster"><code class="docutils literal notranslate"><span class="pre">create_empty_raster()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.is_empty_shapely"><code class="docutils literal notranslate"><span class="pre">is_empty_shapely()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.round_shapes"><code class="docutils literal notranslate"><span class="pre">round_shapes()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.round_shplys"><code class="docutils literal notranslate"><span class="pre">round_shplys()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.remove_third_dimension"><code class="docutils literal notranslate"><span class="pre">remove_third_dimension()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.flatten"><code class="docutils literal notranslate"><span class="pre">flatten()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.impute_holes2D"><code class="docutils literal notranslate"><span class="pre">impute_holes2D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.compute_average_year"><code class="docutils literal notranslate"><span class="pre">compute_average_year()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.interpolate_in_time"><code class="docutils literal notranslate"><span class="pre">interpolate_in_time()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.smooth"><code class="docutils literal notranslate"><span class="pre">smooth()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.generate_rings"><code class="docutils literal notranslate"><span class="pre">generate_rings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.generate_coords"><code class="docutils literal notranslate"><span class="pre">generate_coords()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.close"><code class="docutils literal notranslate"><span class="pre">close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.contains"><code class="docutils literal notranslate"><span class="pre">contains()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.CutError"><code class="docutils literal notranslate"><span class="pre">CutError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.cut"><code class="docutils literal notranslate"><span class="pre">cut()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.distance"><code class="docutils literal notranslate"><span class="pre">distance()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.in_neighborhood"><code class="docutils literal notranslate"><span class="pre">in_neighborhood()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.intersect_point_to_segment"><code class="docutils literal notranslate"><span class="pre">intersect_point_to_segment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.nearest_point"><code class="docutils literal notranslate"><span class="pre">nearest_point()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.triangle_area"><code class="docutils literal notranslate"><span class="pre">triangle_area()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.is_collinear"><code class="docutils literal notranslate"><span class="pre">is_collinear()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.area"><code class="docutils literal notranslate"><span class="pre">area()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.angle"><code class="docutils literal notranslate"><span class="pre">angle()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.midpoint"><code class="docutils literal notranslate"><span class="pre">midpoint()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.closest_point_ind"><code class="docutils literal notranslate"><span class="pre">closest_point_ind()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.center"><code class="docutils literal notranslate"><span class="pre">center()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.orientation"><code class="docutils literal notranslate"><span class="pre">orientation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.intersects"><code class="docutils literal notranslate"><span class="pre">intersects()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.non_point_intersection"><code class="docutils literal notranslate"><span class="pre">non_point_intersection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.volumetric_intersection"><code class="docutils literal notranslate"><span class="pre">volumetric_intersection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.filter_to_shape"><code class="docutils literal notranslate"><span class="pre">filter_to_shape()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.cluster"><code class="docutils literal notranslate"><span class="pre">cluster()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#watershed_workflow.utils.treat_segment_collinearity"><code class="docutils literal notranslate"><span class="pre">treat_segment_collinearity()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gallery.html">Gallery</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Watershed Workflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="api.html">API Documentation</a></li>
      <li class="breadcrumb-item active">Utilities</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/utilities.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utilities">
<h1>Utilities<a class="headerlink" href="#utilities" title="Link to this heading"></a></h1>
<section id="module-watershed_workflow.crs">
<span id="crs"></span><h2>CRS<a class="headerlink" href="#module-watershed_workflow.crs" title="Link to this heading"></a></h2>
<p>Coordinate Reference System conversions.</p>
<p>Coordinate Reference Systems (CRSs) differ across datasets, and
standardizing and managing these across the workflow is a necessary
technical detail.  That said, rarely does the user care what
coordinate system is being used, as long as it is appropriate for the
watershed in question.  Watershed Workflow aims to make using datasets
in different CRSs as streamlined as possible.  Typically, a workflow
will pick a CRS based upon either a default for the region or by
simply using the CRS of the shapefile that specifies the watershed
boundary.  This CRS is the passed into each function that acquires
more data, and that data’s coordinates are changed to the CRS
requested.</p>
<p>This process is made more difficult by the fact that most python GIS
packages provide their own class object to store the CRS.  This said,
nearly all of them are based, to some degree, on the <cite>proj4</cite> library
and its python wrapper, <cite>pyproj</cite> for coordinate transformations.
Watershed Workflow uses the <cite>pyproj.Proj</cite> class as its own internal
representation of coordinate system, and provides methods for mapping
<cite>fiona</cite> (shapefiles), <cite>rasterio</cite> (rasters), and <cite>cartopy</cite> (plotting)
CRS objects to and from this type.  While this is typically done by
calling functions from those libraries, standardizing the API makes
dealing with these packages in an integrated form much simpler.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We intend to use the pyproj.Proj object as our standard.  But for
now we are trying to avoid hard-coding that, so internal code
should avoid using that knowledge, and instead map to and from
<cite>pyproj.Proj</cite> objects using the provided interface.</p>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.is_native">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">is_native</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#is_native"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.is_native" title="Link to this definition"></a></dt>
<dd><p>Is this crs in the native format?</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_proj">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_proj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_proj" title="Link to this definition"></a></dt>
<dd><p>Converts a Proj CRS to the workflow CRS standard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>pyproj.crs.CRS</em>) – Input proj CRS object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent workflow CRS.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.to_proj">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">to_proj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#to_proj"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.to_proj" title="Link to this definition"></a></dt>
<dd><p>Converts a workflow CRS standard to a Proj4 CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>crs-type</em>) – Workflow standard CRS.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pyproj.crs.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_fiona">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_fiona</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_fiona"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_fiona" title="Link to this definition"></a></dt>
<dd><p>Converts a fiona CRS to the workflow CRS standard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>fiona-crs-dict</em>) – Input fiona CRS, which is a dictionary containing an EPSG
code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent workflow CRS.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.to_fiona">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">to_fiona</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#to_fiona"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.to_fiona" title="Link to this definition"></a></dt>
<dd><p>Converts a workflow CRS to a fiona CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>crs-type</em>) – A workflow CRS object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent fiona CRS.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>fiona-crs-dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_rasterio">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_rasterio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_rasterio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_rasterio" title="Link to this definition"></a></dt>
<dd><p>Converts from rasterio CRS to the workflow CRS standard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>rasterio-crs-object</em>) – Input rasterio crs.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent workflow CRS.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.to_rasterio">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">to_rasterio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#to_rasterio"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.to_rasterio" title="Link to this definition"></a></dt>
<dd><p>Converts a workflow CRS to a fiona CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>crs-type</em>) – A workflow CRS object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent rasterio object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>rasterio.CRS</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_epsg">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_epsg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">epsg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_epsg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_epsg" title="Link to this definition"></a></dt>
<dd><p>Converts from an EPSG code to a workflow CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>epsg</strong> (<em>int</em>) – An EPSG code. (see <a class="reference external" href="https://epsg.io">EPSG codes</a>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent workflow CRS.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.to_epsg">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">to_epsg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#to_epsg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.to_epsg" title="Link to this definition"></a></dt>
<dd><p>Attempts to conver to an EPSG code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>crs-type</em>) – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>epsg</strong> (<em>int</em>) – An EPSG code, if possible.</p></li>
<li><p><em>If not, this throws.</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_cartopy">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_cartopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_cartopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_cartopy" title="Link to this definition"></a></dt>
<dd><p>Converts a cartopy CRS to a workflow CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>epsg</strong> (<em>int</em>) – <p>An EPSG code. (see <a class="reference external" href="https://epsg.io">EPSG codes</a>)</p>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Equivalent workflow CRS.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.to_cartopy">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">to_cartopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#to_cartopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.to_cartopy" title="Link to this definition"></a></dt>
<dd><p>Converts a workflow CRS to a cartopy.crs.Projection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>crs</strong> (<em>crs-type</em>) – The CRS to convert.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>A cartopy.crs.Projection object for plotting.</em></p></li>
<li><p><strong>Adopted from</strong> (<em>https://pyproj4.github.io/pyproj/stable/crs_compatibility.html</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_string">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_string" title="Link to this definition"></a></dt>
<dd><p>Returns a CRS from a proj string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.from_wkt">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">from_wkt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#from_wkt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.from_wkt" title="Link to this definition"></a></dt>
<dd><p>Returns a CRS from a WKT string specification</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.to_wkt">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">to_wkt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#to_wkt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.to_wkt" title="Link to this definition"></a></dt>
<dd><p>Returns the WKT string of a CRS.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.default_crs">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">default_crs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#default_crs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.default_crs" title="Link to this definition"></a></dt>
<dd><p>Returns a default CRS that is functionally useful for North America.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out</strong> – The default CRS.  The user should not care what this is (if
you do, don’t use the default!) but it is EPSG:5070.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.default_alaska_crs">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">default_alaska_crs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#default_alaska_crs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.default_alaska_crs" title="Link to this definition"></a></dt>
<dd><p>Returns a default CRS that is functionally useful for Alaska.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out</strong> – The default CRS.  The user should not care what this is (if
you do, don’t use the default!) but it is EPSG:3338.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.daymet_crs">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">daymet_crs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#daymet_crs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.daymet_crs" title="Link to this definition"></a></dt>
<dd><p>Returns the CRS used by DayMet files, but in m, not km.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out</strong> – The DayMet CRS.  The user should not care what this is.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.daymet_crs_native">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">daymet_crs_native</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#daymet_crs_native"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.daymet_crs_native" title="Link to this definition"></a></dt>
<dd><p>Returns the CRS used by DayMet files natively, in km, not in m.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out</strong> – The DayMet CRS.  The user should not care what this is.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.latlon_crs">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">latlon_crs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#latlon_crs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.latlon_crs" title="Link to this definition"></a></dt>
<dd><p>Returns the default latitude-longitude CRS.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>out</strong> – The default CRS.  The user should not care what this is (if
you do, don’t use the default!) but it is EPSG:4269.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>crs-type</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.crs.equal">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.crs.</span></span><span class="sig-name descname"><span class="pre">equal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/crs.html#equal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.crs.equal" title="Link to this definition"></a></dt>
<dd><p>Tries to guess at the equality of two CRS objects.</p>
<p>Note this is not trivial, just checking strings or dicts results
in false-negatives.  Furthermore, this implementation may not be
perfect, but it works for all those currently tested.  Please
report bugs!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crs1</strong> (<em>crs-type</em>) – Input workflow CRS objects.</p></li>
<li><p><strong>crs2</strong> (<em>crs-type</em>) – Input workflow CRS objects.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out</strong> – Are equal?</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-watershed_workflow.plot">
<span id="plotting"></span><h2>Plotting<a class="headerlink" href="#module-watershed_workflow.plot" title="Link to this heading"></a></h2>
<p>Plotting relies on cartopy to ensure that coordinate projections are dealt
with reasonably within matplotlib.  The preferred usage for plotting is similar
to the non-pylab interface to matplotlib – first get a figure and axis object,
then call plotting functions passing in that ax object.</p>
<p>Note that we use the descartes package to plot shapely objects, which is a
simple wrapper to write a shapely polygon as a matplotlib patch.</p>
<p>Note that, for complex plots, it can be useful to manage the ordering of the
layers of objects.  In this case, all plotting functions accept matplotlib’s
zorder argument, an int which controls the order of drawing, with larger being
later (on top) of smaller values.</p>
<dl class="py class">
<dt class="sig sig-object py" id="watershed_workflow.plot.Labeler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">Labeler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#Labeler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.Labeler" title="Link to this definition"></a></dt>
<dd><p>A labeling widget that can be attached to matplotlib figures to display info on-click.</p>
<p>When an geometry item (e.g. point, line, or polygon) is clicked on
the figure, that is mapped into the original WW object that
generated the geometry, and then run through a function to
generate a label that is written to the title of the figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib.Axes object</em>) – The axes to work with.</p></li>
<li><p><strong>items</strong> (<em>list</em><em>[</em><em>tuple</em><em>[</em><em>artist</em><em>, </em><em>metadata</em><em>, </em><em>formatter</em><em>]</em><em>]</em>) – See documentation of the addItem() method.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="watershed_workflow.plot.Labeler.addItem">
<span class="sig-name descname"><span class="pre">addItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#Labeler.addItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.Labeler.addItem" title="Link to this definition"></a></dt>
<dd><p>Adds an item to the list of things to label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>List</em><em>[</em><em>*</em><em>]</em>) – A list of objects being labeled.  This is likely the
underlying data, with properties, that was passed to
a ww.plot function.</p></li>
<li><p><strong>artist</strong> (<em>matplotlib collection</em>) – A matplotlib Collection, likely the return value of
a ww.plot call or similar.</p></li>
<li><p><strong>formatter</strong> (<em>function</em><em> or </em><em>str</em>) – A function that accepts an entry in data and returns a
string to label the item selected.  If this is a string,
it is assumed to be a formattable string to which the
item’s properties dictionary is passed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watershed_workflow.plot.Labeler.deselect">
<span class="sig-name descname"><span class="pre">deselect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#Labeler.deselect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.Labeler.deselect" title="Link to this definition"></a></dt>
<dd><p>Clears anything plotted in the last click</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watershed_workflow.plot.Labeler.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#Labeler.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.Labeler.select" title="Link to this definition"></a></dt>
<dd><p>Selects item i, collection index j, with a click at xy</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="watershed_workflow.plot.Labeler.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#Labeler.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.Labeler.update" title="Link to this definition"></a></dt>
<dd><p>Acts on click.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.get_ax">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">get_ax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nrow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axgrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#get_ax"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.get_ax" title="Link to this definition"></a></dt>
<dd><p>Returns an axis with a given projection.</p>
<p>Note this forwards extra kwargs for plt.figure().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crs</strong> (<em>CRS object</em><em>, </em><em>optional</em>) – A <strong>projected</strong> CRS for the plot.  None can be given for a normal
matplotlib axis (useful for plotting lat/lon or other non-projected
coordinate systems.  Note that if you call plotting on an object with an
unprojected CRS, it will project for you, or change coordinates if
needed.  This can get a bit dicey, so prefer to plot objects all in the
same CRS.  Defaults to None.</p></li>
<li><p><strong>fig</strong> (<em>matplotlib figure</em><em>, </em><em>optional</em>) – If you already have a figure, will create the axis on this figure.
Defaults to None, at which point a figure will be created.</p></li>
<li><p><strong>nrow</strong> (<em>int</em><em>, </em><em>optional</em>) – Create a grid of axes of this shape.  Calls
plt.add_subplot(nrow,ncol,index).  Default is 1.</p></li>
<li><p><strong>ncol</strong> (<em>int</em><em>, </em><em>optional</em>) – Create a grid of axes of this shape.  Calls
plt.add_subplot(nrow,ncol,index).  Default is 1.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – Create a grid of axes of this shape.  Calls
plt.add_subplot(nrow,ncol,index).  Default is 1.</p></li>
<li><p><strong>window</strong> (<em>[</em><em>xmin</em><em>, </em><em>ymin</em><em>, </em><em>width</em><em>, </em><em>height</em><em>]</em><em>, </em><em>optional</em>) – Matplotlib patch arguments for call to fig.add_axes()</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>width</em><em>, </em><em>height</em><em>)</em><em>, </em><em>optional</em>) – Figure size in inches.</p></li>
<li><p><strong>dpi</strong> (<em>int</em><em>, </em><em>optional</em>) – Dots per inch for figures.</p></li>
<li><p><strong>ax_kwargs</strong> (<em>dict</em>) – Other arguments provided to the axes creation call.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional arguments to plt.figure()</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>*If fig is provided*</em></p></li>
<li><p><strong>ax</strong> (<em>matplotlib axes object</em>)</p></li>
<li><p><em>*If fig is not provided*</em></p></li>
<li><p><strong>fig</strong> (<em>matplotlib figure object</em>)</p></li>
<li><p><strong>ax</strong> (<em>matplotlib ax object</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.huc">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">huc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">huc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#huc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.huc" title="Link to this definition"></a></dt>
<dd><p>Plot a HUC polygon.</p>
<p>A wrapper for plot.shply()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>huc</strong> (<em>shapely polygon</em>) – An object to plot.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – The coordinate system to plot in.</p></li>
<li><p><strong>color</strong> (<em>str</em><em>, </em><em>scalar</em><em>, or </em><em>array-like</em><em>, </em><em>optional</em>) – See <a class="reference external" href="https://matplotlib.org/tutorials/colors/colors.html">https://matplotlib.org/tutorials/colors/colors.html</a></p></li>
<li><p><strong>ax</strong> (<em>matplotib axes object</em><em>, </em><em>optional</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to the plotting method, which is likely
descartes.PolygonPatch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>patches</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib PatchCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.hucs">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">hucs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hucs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet_marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet_markersize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlet_markercolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'green'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#hucs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.hucs" title="Link to this definition"></a></dt>
<dd><p>Plot a SplitHUCs object.</p>
<p>A wrapper for plot.shply()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hucs</strong> (<em>watershed_workflow.split_hucs.SplitHucs object</em>) – The collection of hucs to plot.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – The coordinate system to plot in.</p></li>
<li><p><strong>color</strong> (<em>str</em><em>, </em><em>scalar</em><em>, or </em><em>array-like</em><em>, </em><em>optional</em>) – See <a class="reference external" href="https://matplotlib.org/tutorials/colors/colors.html">https://matplotlib.org/tutorials/colors/colors.html</a></p></li>
<li><p><strong>ax</strong> (<em>matplotib axes object</em><em>, </em><em>optional</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>outlet_marker</strong> (<em>matplotlib marker string</em><em>, </em><em>optional</em>) – If provided, also plots the actual points that make up the shape.</p></li>
<li><p><strong>outlet_markersize</strong> (<em>float</em><em>, </em><em>optional</em>) – Size of the outlet marker.</p></li>
<li><p><strong>outlet_markercolor</strong> (<em>matplotlib color string</em><em>, </em><em>optional</em>) – Color of the outlet marker.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to the plotting method, which is likely
descartes.PolygonPatch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>patches</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotib PatchCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.shapes">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">shapes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#shapes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.shapes" title="Link to this definition"></a></dt>
<dd><p>Plot an itereable collection of fiona shapes.</p>
<p>A wrapper for plot.shply()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shapes</strong> (<em>list</em><em>(</em><em>fiona shape objects</em><em>)</em>) – The collection of fiona shape objects to plot.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – The coordinate system to plot in.</p></li>
<li><p><strong>color</strong> (<em>str</em><em>, </em><em>scalar</em><em>, or </em><em>array-like</em><em>, </em><em>optional</em>) – See <a class="reference external" href="https://matplotlib.org/tutorials/colors/colors.html">https://matplotlib.org/tutorials/colors/colors.html</a></p></li>
<li><p><strong>ax</strong> (<em>matplotib axes object</em><em>, </em><em>optional</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to the plotting method, which is likely
descartes.PolygonPatch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>patches</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotib PatchCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.river">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">river</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">river</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'b'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#river"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.river" title="Link to this definition"></a></dt>
<dd><p>Plot an itereable collection of reaches.</p>
<p>A wrapper for plot.shply()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>river</strong> (<em>list</em><em>(</em><em>shapely.LineString</em><em>)</em>) – An iterable of shapely LineString reaches.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – The coordinate system to plot in.</p></li>
<li><p><strong>color</strong> (<em>str</em><em>, </em><em>scalar</em><em>, or </em><em>array-like</em><em>, </em><em>optional</em>) – See <a class="reference external" href="https://matplotlib.org/tutorials/colors/colors.html">https://matplotlib.org/tutorials/colors/colors.html</a></p></li>
<li><p><strong>ax</strong> (<em>matplotib axes object</em><em>, </em><em>optional</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to the plotting method, which is likely
matplotlib.collections.LineCollection.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>lines</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotib LineCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.rivers">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">rivers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rivers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#rivers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.rivers" title="Link to this definition"></a></dt>
<dd><p>Plot an itereable collection of river Tree objects.</p>
<p>A wrapper for plot.shply()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rivers</strong> (<em>list</em><em>(</em><em>river_tree.RiverTree</em><em>)</em>) – An iterable of river_tree.RiverTree objects.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – The coordinate system to plot in.</p></li>
<li><p><strong>color</strong> (<em>str</em><em>, </em><em>scalar</em><em>, or </em><em>array-like</em><em>, </em><em>optional</em>) – See <a class="reference external" href="https://matplotlib.org/tutorials/colors/colors.html">https://matplotlib.org/tutorials/colors/colors.html</a></p></li>
<li><p><strong>ax</strong> (<em>matplotib axes object</em><em>, </em><em>optional</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to the plotting method, which is likely
matplotlib.collections.LineCollection.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>lines</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotib LineCollection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.shply">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">shply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shp</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#shply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.shply" title="Link to this definition"></a></dt>
<dd><p>Plot a single shapely object.  See shplys() for options.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.shplys">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">shplys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#shplys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.shplys" title="Link to this definition"></a></dt>
<dd><p>Plot shapely objects.</p>
<p>Currently this assumes shps is an iterable collection of Points, Lines, or
Polygons.  So while a single MultiPolygon is allowed, lists of
MultiPolygons are not currently supported.  These can easily be unraveled.</p>
<p>Heterogeneous collections are not supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shps</strong> (<em>shapely shape</em><em>, </em><em>list</em><em>(</em><em>shapely shape objects</em><em>)</em><em>, or </em><em>MultiShape object</em>) – An iterable of shapely objects to plot.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – The coordinate system to plot in.</p></li>
<li><p><strong>color</strong> (<em>str</em><em>, </em><em>scalar</em><em>, or </em><em>array-like</em><em>, </em><em>optional</em>) – See <a class="reference external" href="https://matplotlib.org/tutorials/colors/colors.html">https://matplotlib.org/tutorials/colors/colors.html</a></p></li>
<li><p><strong>ax</strong> (<em>matplotib axes object</em><em>, </em><em>optional</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>marker</strong> (<em>matplotlib marker string</em>) – If provided, also plots the actual points that make up the shape.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to the plotting method, which can be:
* pyplot.scatter() (if shps are Point objects)
* matplotlib.collections.LineCollection() (if shps are LineStrings)
* descartes.PolygonPatch() (if shps are Polygons)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>col</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>collection of matplotlib points or lines or patches</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.triangulation">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">triangulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tris</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#triangulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.triangulation" title="Link to this definition"></a></dt>
<dd><p>Plots a triangulation.</p>
<p>A wrapper for matplotlib’s plot_trisurf() or tripcolor()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<em>np.ndarray</em><em>(</em><em>npoints</em><em>, </em><em>3</em><em>)</em>) – Array of point coordinates, x,y,z.</p></li>
<li><p><strong>tris</strong> (<em>list</em><em>, </em><em>np.ndarray</em><em>(</em><em>ntris</em><em>, </em><em>3</em><em>)</em>) – List of lists or ndarray of indices into the points array for defining
the triangle topology.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – Coordinate system of the points.</p></li>
<li><p><strong>color</strong> (<em>matplotlib color object</em><em> or </em><em>iterable</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Either a matplotlib color object (for uniform colors), or a list of color
objects (length equal to the length of tris), or ‘elevation’ to color by
z coordinate.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib ax object</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to plot_trisurf() (for 3D axes) or tripcolor()
(for 2D).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>col</strong> – Collection of patches representing the triangles.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib collection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.mesh">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gray'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#mesh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.mesh" title="Link to this definition"></a></dt>
<dd><p>Plots a watershed_workflow.mesh.Mesh2D object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>m2</strong> (<a class="reference internal" href="mesh.html#watershed_workflow.mesh.Mesh2D" title="watershed_workflow.mesh.Mesh2D"><em>Mesh2D</em></a>) – The 2D mesh to plot.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – Coordinate system of the points.</p></li>
<li><p><strong>color</strong> (<em>matplotlib color object</em><em> or </em><em>iterable</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – Either a matplotlib color object (for uniform colors), or a list of color
objects (length equal to the length of tris), or ‘elevation’ to color by
z coordinate.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib ax object</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Extra arguments passed to plot_trisurf() (for 3D axes) or tripcolor()
(for 2D).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>col</strong> – Collection of patches representing the triangles.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib collection</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.raster">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.raster" title="Link to this definition"></a></dt>
<dd><p>Plots a raster.</p>
<p>A wrapper for matplotlib imshow()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>profile</strong> (<em>rasterio profile</em>) – Rasterio profile of the input raster.</p></li>
<li><p><strong>data</strong> (<em>np.ndarray</em>) – 2D array of data.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib ax object</em>) – Axes to plot on.  Calls get_ax() if not provided.</p></li>
<li><p><strong>vmin</strong> (<em>float</em>) – Min and max value to limit extent of color values.</p></li>
<li><p><strong>vmax</strong> (<em>float</em>) – Min and max value to limit extent of color values.</p></li>
<li><p><strong>mask</strong> (<em>bool</em>) – If true (default), masks out values given as profile[‘nodata’]</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Dictionary of extra arguments passed to imshow().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>im</strong> – Return value of imshow()</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib image object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.dem">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">dem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#dem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.dem" title="Link to this definition"></a></dt>
<dd><p>See raster documentation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.basemap">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">basemap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'50m'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ocean_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coastline_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#basemap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.basemap" title="Link to this definition"></a></dt>
<dd><p>Add a basemap to the axis.</p>
<p>Uses cartopy to add political and natural boundaries and shapes to the axes
image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>crs</strong> (<em>CRS object</em><em>, </em><em>optional</em>) – Coordinate system to plot.  May be ignored if ax is provided.</p></li>
<li><p><strong>ax</strong> (<em>matplotlib ax object</em><em>, </em><em>optional</em>) – Matplotlib axes to plot on.  If not provided, get_ax() is called using
crs.</p></li>
<li><p><strong>resolution</strong> (<em>str</em>) – Resolution of cartopy basemap.  One of ‘10m’, ‘50m’, or ‘110m’.</p></li>
<li><p><strong>land_kwargs</strong> (<em>dict</em>) – Extra arguments passed to cartopy.feature.NaturalEarthFeature call to get
land polygons.</p></li>
<li><p><strong>ocean_kwargs</strong> (<em>dict</em>) – Extra arguments passed to cartopy.feature.NaturalEarthFeature call to get
ocean polygons.</p></li>
<li><p><strong>state_kwargs</strong> (<em>dict</em>) – Extra arguments passed to cartopy.feature.NaturalEarthFeature call to get
political state boundary polygons.</p></li>
<li><p><strong>country_kwargs</strong> (<em>dict</em>) – Extra arguments passed to cartopy.feature.NaturalEarthFeature call to get
political country boundary polygons.</p></li>
<li><p><strong>coastline_kwargs</strong> (<em>dict</em>) – Extra arguments passed to cartopy.feature.NaturalEarthFeature call to get
natural coastline boundary polygons.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.plot.feather_axis_limits">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.plot.</span></span><span class="sig-name descname"><span class="pre">feather_axis_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/plot.html#feather_axis_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.plot.feather_axis_limits" title="Link to this definition"></a></dt>
<dd><p>Adds a small delta to the axis limits to provide a bit of buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib Axis object</em>) – The axis to feather.</p></li>
<li><p><strong>delta</strong> (<em>2-tuple</em><em> or </em><em>double</em><em>, </em><em>default=0.02</em>) – If a double, equivalent to (delta,delta).  Provides the fraction of
the current plot width,height to increase by.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-watershed_workflow.colors">
<dt class="sig sig-object py" id="watershed_workflow.colors.enumerated_colors">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">enumerated_colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/colors.html#enumerated_colors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.colors.enumerated_colors" title="Link to this definition"></a></dt>
<dd><p>Gets an enumerated list of count independent colors.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.cm_mapper">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">cm_mapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_sm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/colors.html#cm_mapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.colors.cm_mapper" title="Link to this definition"></a></dt>
<dd><p>Provide a function that maps scalars to colors in a given colormap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vmin</strong> (<em>scalar</em>) – Min and max scalars to be mapped.</p></li>
<li><p><strong>vmax</strong> (<em>scalar</em>) – Min and max scalars to be mapped.</p></li>
<li><p><strong>cmap</strong> (<em>str</em><em> or </em><em>matplotlib.cmap instance</em>) – The colormap to discretize.</p></li>
<li><p><strong>norm</strong> (<em>optional</em><em>, </em><em>matplotlib Norm object</em>) – A normalization.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Function, cmap(scalar) -&gt; (r,g,b,a)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot 4 lines</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">cm</span> <span class="o">=</span> <span class="n">cm_mapper</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;jet&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="n">i</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">cm</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.cm_discrete">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">cm_discrete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ncolors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/colors.html#cm_discrete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.colors.cm_discrete" title="Link to this definition"></a></dt>
<dd><p>Calculate a discrete colormap with N entries from the continuous colormap cmap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ncolors</strong> (<em>int</em>) – Number of colors.</p></li>
<li><p><strong>cmap</strong> (<em>str</em><em> or </em><em>matplotlib.cmap instance</em><em>, </em><em>optional</em>) – The colormap to discretize.  Default is ‘jet’.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>matplotlib.colors.LinearSegmentedColormap instance</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot 4 lines</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">colors</span> <span class="o">=</span> <span class="n">cmap_discretize</span><span class="p">(</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="n">i</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.float_list_type">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">float_list_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mystring</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/colors.html#float_list_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.colors.float_list_type" title="Link to this definition"></a></dt>
<dd><p>Convert string-form list of doubles into list of doubles.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.generate_indexed_colormap">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">generate_indexed_colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/colors.html#generate_indexed_colormap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.colors.generate_indexed_colormap" title="Link to this definition"></a></dt>
<dd><p>Generates an indexed colormap and labels for imaging, e.g. soil indices.
:param indices: Collection of indices that will be used in this colormap.
:type indices: iterable(int)
:param cmap: Name of matplotlib colormap to sample.
:type cmap: optional, str</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>indices_out</strong> (<em>list(int)</em>) – The unique, sorted list of indices found.</p></li>
<li><p><strong>cmap</strong> (<em>cmap-type</em>) – A segmented map for use with plots.</p></li>
<li><p><strong>norm</strong> (<em>BoundaryNorm</em>) – A norm for use in <cite>plot_trisurf()</cite> or other plotting methods
to ensure correct NLCD colors.</p></li>
<li><p><strong>ticks</strong> (<em>list(int)</em>) – A list of tick locations for the requested indices.  For use
with <cite>set_ticks()</cite>.</p></li>
<li><p><strong>labels</strong> (<em>list(str)</em>) – A list of labels associated with the ticks.  For use with
<cite>set_{x,y}ticklabels()</cite>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.generate_nlcd_colormap">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">generate_nlcd_colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watershed_workflow.colors.generate_nlcd_colormap" title="Link to this definition"></a></dt>
<dd><p>Generates a colormap and labels for imaging with the NLCD colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>iterable</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Collection of NLCD indices that will be used in this colormap.
If None (default), uses all NLCD indices.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>indices_out</strong> (<em>list(int)</em>) – The unique, sorted list of indices found.</p></li>
<li><p><strong>cmap</strong> (<em>cmap-type</em>) – A segmented map for use with plots.</p></li>
<li><p><strong>norm</strong> (<em>BoundaryNorm</em>) – A norm for use in <cite>plot_trisurf()</cite> or other plotting methods
to ensure correct NLCD colors.</p></li>
<li><p><strong>ticks</strong> (<em>list(int)</em>) – A list of tick locations for the requested indices.  For use
with <cite>set_ticks()</cite>.</p></li>
<li><p><strong>labels</strong> (<em>list(str)</em>) – A list of labels associated with the ticks.  For use with
<cite>set_{x,y}ticklabels()</cite>.</p></li>
<li><p><strong>formatted</strong> (<em>bool,</em>) – To make the labels formatted nicely (i.e. add newline in long label names)</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Plot a triangulation given a set of NLCD colors on those triangles.</p>
<p>Given a triangluation <cite>mesh_points, mesh_tris</cite> and NLCD color
indices for each triangle (tri_nlcd):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">indices</span><span class="p">,</span> <span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">ticks</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">generate_nlcd_colormap</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tri_nlcd</span><span class="p">))</span>

<span class="n">mp</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot_trisurf</span><span class="p">(</span><span class="n">mesh_points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">mesh_points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">mesh_points</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span>
        <span class="n">triangles</span><span class="o">=</span><span class="n">mesh_tris</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">tri_nlcd</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">)</span>
<span class="n">cb</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">mp</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
<span class="n">cb</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">cb</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.generate_modis_colormap">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">generate_modis_colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#watershed_workflow.colors.generate_modis_colormap" title="Link to this definition"></a></dt>
<dd><p>Generates a colormap and labels for imaging with the MODIS colors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>iterable</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – Collection of MODIS indices that will be used in this colormap.
If None (default), uses all MODIS indices.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>indices_out</strong> (<em>list(int)</em>) – The unique, sorted list of indices found.</p></li>
<li><p><strong>cmap</strong> (<em>cmap-type</em>) – A segmented map for use with plots.</p></li>
<li><p><strong>norm</strong> (<em>BoundaryNorm</em>) – A norm for use in <cite>plot_trisurf()</cite> or other plotting methods
to ensure correct MODIS colors.</p></li>
<li><p><strong>ticks</strong> (<em>list(int)</em>) – A list of tick locations for the requested indices.  For use
with <cite>set_ticks()</cite>.</p></li>
<li><p><strong>labels</strong> (<em>list(str)</em>) – A list of labels associated with the ticks.  For use with
<cite>set_{x,y}ticklabels()</cite>.</p></li>
<li><p><strong>formatted</strong> (<em>bool,</em>) – To make the labels formatted nicely (i.e. add newline in long label names)</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Plot a triangulation given a set of MODIS colors on those triangles.</p>
<p>Given a triangluation <cite>mesh_points, mesh_tris</cite> and MODIS color
indices for each triangle (tri_modis):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">indices</span><span class="p">,</span> <span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="p">,</span> <span class="n">ticks</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">generate_modis_colormap</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">tri_modis</span><span class="p">))</span>

<span class="n">mp</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot_trisurf</span><span class="p">(</span><span class="n">mesh_points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">mesh_points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="n">mesh_points</span><span class="p">[:,</span><span class="mi">2</span><span class="p">],</span>
        <span class="n">triangles</span><span class="o">=</span><span class="n">mesh_tris</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">tri_modis</span><span class="p">,</span>
        <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">norm</span><span class="p">)</span>
<span class="n">cb</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">mp</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
<span class="n">cb</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
<span class="n">cb</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.colors.colorbar_index">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.colors.</span></span><span class="sig-name descname"><span class="pre">colorbar_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ncolors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/colors.html#colorbar_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.colors.colorbar_index" title="Link to this definition"></a></dt>
<dd><p>Add an indexed colorbar based on a given colormap.</p>
<p>This sets ticks in the middle of each color range, adds the
colorbar, and sets the labels if provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ncolors</strong> (<em>int</em>) – Number of colors to display.</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib.cmap instance</em>) – The colormap used in the image.</p></li>
<li><p><strong>labels</strong> (<em>list</em>) – Optional list of label strings that equal to the number of
colors. If not provided, labels are set to range(ncolors).</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Other arguments are passed on to the plt.colorbar() call, which
can be used for things like fraction, pad, etc to control the
location/spacing of the colorbar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>colorbar</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>the colorbar object</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-watershed_workflow.utils">
<span id="generic-utilities"></span><h2>Generic utilities<a class="headerlink" href="#module-watershed_workflow.utils" title="Link to this heading"></a></h2>
<p>Shape and geometry utilities for working with fiona and shapely objects.</p>
<p>Note this module contains a lot of other simple functions that are commonly
used by other functions, but are not included in documentation because they are
likely not useful to users.</p>
<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.create_shply">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">create_shply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#create_shply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.create_shply" title="Link to this definition"></a></dt>
<dd><p>Converts a fiona style shape to a shapely shape with as much collapsing as possible.</p>
<p>Note this collapses objects – for instance, fiona MultiPolygons of length
1 are turned into shapely Polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<em>fiona shape</em>) – Fiona shape to convert to shapely.</p></li>
<li><p><strong>properties</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dictionary of parameters to associate with the object.  Defaults to
shape[‘properties’] if it exists, None otherwise.</p></li>
<li><p><strong>flip</strong> (<em>bool</em><em>, </em><em>optional</em>) – Flip x,y coordinates while making the translation.  This helps if files
provide lat-long ordered coordinates (note that is y,x) as opposed to
long-lat (x,y).  Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>thing</strong></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>shapely shape</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.deepcopy">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">deepcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_shapes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#deepcopy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.deepcopy" title="Link to this definition"></a></dt>
<dd><p>Deals with properties dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.create_bounds">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">create_bounds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#create_bounds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.create_bounds" title="Link to this definition"></a></dt>
<dd><p>General bounding box for fiona and shapely types.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.create_raster_profile">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">create_raster_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#create_raster_profile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.create_raster_profile" title="Link to this definition"></a></dt>
<dd><p>Creates a profile for a raster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> (<em>[</em><em>x_min</em><em>, </em><em>y_min</em><em>, </em><em>x_max</em><em>, </em><em>y_max</em><em>]</em>) – Bounding box for the raster.</p></li>
<li><p><strong>crs</strong> (<em>CRS object</em>) – Target coordinate system.</p></li>
<li><p><strong>resolution</strong> (<em>tuple</em><em> or </em><em>float</em>) – Pixel width, in units of the crs.  If a tuple, (dx,dy).  If a
float, then dx = dy.</p></li>
<li><p><strong>dtype</strong> (<em>optional</em>) – If provided, sets the data type.</p></li>
<li><p><strong>nodata</strong> (<em>dtype</em><em>, </em><em>optional</em>) – If provided, sets the nodata value.</p></li>
<li><p><strong>count</strong> (<em>int</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>make</strong> (<em>Note that dx/dy are always used.  The bounds are adjusted to</em>) – </p></li>
<li><p><strong>dx/dy.</strong> (<em>them an even multiple of</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary profile, including a transform and all other needed
metadata to create a raster.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.create_empty_raster">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">create_empty_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#create_empty_raster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.create_empty_raster" title="Link to this definition"></a></dt>
<dd><p>Generates a profile and a nodata-filled array.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.is_empty_shapely">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">is_empty_shapely</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#is_empty_shapely"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.is_empty_shapely" title="Link to this definition"></a></dt>
<dd><p>Is shp None or empty</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.round_shapes">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">round_shapes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_things</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#round_shapes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.round_shapes" title="Link to this definition"></a></dt>
<dd><p>Rounds coordinates in things or shapes to a given digits.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.round_shplys">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">round_shplys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_things</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">digits</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#round_shplys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.round_shplys" title="Link to this definition"></a></dt>
<dd><p>Rounds coordinates in things or shapes to a given digits.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.remove_third_dimension">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">remove_third_dimension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geom</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#remove_third_dimension"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.remove_third_dimension" title="Link to this definition"></a></dt>
<dd><p>Removes the third dimension of a shapely object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.flatten">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_shps</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.flatten" title="Link to this definition"></a></dt>
<dd><p>Flattens a list of shapes, that may contain Multi-objects, into  list without multi-objects</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.impute_holes2D">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">impute_holes2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cubic'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#impute_holes2D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.impute_holes2D" title="Link to this definition"></a></dt>
<dd><p>Very simple imputation algorithm to interpolate values for missing data in rasters.</p>
<p>Note, this may throw if there is a hole on the boundary?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> (<em>np.ndarray</em>) – 2D array, with missing data.</p></li>
<li><p><strong>nodata</strong> (<em>optional = np.nan</em>) – Value to treat as a hole to fill.</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional = 'cubic'</em>) – Algorithm to use (see scipy.interpolate.griddata).  Likely
‘cubic’, ‘linear’, or ‘nearest’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New array with no values of nodata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.compute_average_year">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">compute_average_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_nyears</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#compute_average_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.compute_average_year" title="Link to this definition"></a></dt>
<dd><p>Averages and smooths to form a “typical” year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray</em><em>[</em><em>NTIMES</em><em>, </em><em>NX</em><em>, </em><em>NY</em><em>]</em>) – Data to smooth.  Note this data will be truncated
floor(NTIMES/365).</p></li>
<li><p><strong>output_nyears</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of years to repeat the output.  Default is 1.</p></li>
<li><p><strong>filter</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, filters the data using a Sav-Gol filter from Scipy</p></li>
<li><p><strong>See</strong> (<em>All other parameters are passed to the filter.</em>) – </p></li>
<li><p><strong>scipy.signal.savgol_filter</strong> – </p></li>
<li><p><strong>if</strong> (<em>but sane default values are used</em>) – </p></li>
<li><p><strong>provided.</strong> (<em>these are not</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The smoothed data.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray[365*output_nyears, NX, NY]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.interpolate_in_time">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">interpolate_in_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#interpolate_in_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.interpolate_in_time" title="Link to this definition"></a></dt>
<dd><p>Interpolate time-dependent data from times to daily data in the range start, end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>np.array</em><em>(</em><em>[</em><em>NTIMES</em><em>,</em><em>]</em><em>, </em><em>dtype=datetime.datetime</em><em>)</em>) – The list of times, as a date or time.</p></li>
<li><p><strong>data</strong> (<em>np.ndarray</em><em>(</em><em>[</em><em>NTIMES</em><em>, </em><em>NX</em><em>, </em><em>NY</em><em>]</em><em>)</em>) – Data to interpolate</p></li>
<li><p><strong>start</strong> (<em>datetime.date</em>) – Dates to begin and end (inclusive) the daily data range.</p></li>
<li><p><strong>end</strong> (<em>datetime.date</em>) – Dates to begin and end (inclusive) the daily data range.</p></li>
<li><p><strong>dt</strong> (<em>datetime.timedelta</em><em>, </em><em>optional</em>) – Delta to interpolate to.  Defaults to 1 day.</p></li>
<li><p><strong>Of</strong> (<em>All other parameters are passed to scipy.interpolate.interp1d.</em>) – </p></li>
<li><p><strong>or</strong> (<em>use particularly is 'kind' which can be 'linear'</em><em> (</em><em>default</em><em>)</em>) – </p></li>
<li><p><strong>'quadratic'</strong> – </p></li>
<li><p><strong>others.</strong> (<em>'cubic' or</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>new_times</strong> (<em>np.1darray([end-start+1,], dtype=datetime.date)</em>) – Times interpolated, as datetime.date objects.</p></li>
<li><p><strong>new_data</strong> (<em>np.ndarray([end-start+1, NX,NY])</em>) – The data interpolated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.smooth">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">61</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polyorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wrap'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.smooth" title="Link to this definition"></a></dt>
<dd><p>Smooths fixed-interval time-series data using a Sav-Gol filter from scipy.</p>
<p>Note that this wrapper just sets some sane default values for
daily data – one could just as easily call
scipy.signal.savgol_filter themselves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.ndarray-like</em>) – The data to smooth.  Note that the expectation is that the time
axis is the 0th axis.</p></li>
<li><p><strong>window_length</strong> (<em>int</em><em>, </em><em>61</em>) – Length of the moving window over which to fit the polynomial.</p></li>
<li><p><strong>polyorder</strong> (<em>int</em><em>, </em><em>2</em>) – Order of the fitting polynomial.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em>, </em><em>0</em>) – Time axis over which to smooth.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>'wrap'</em>) – See scipy.signal.savgol_filter documentation, but ‘wrap’ is the
best bet for data in multiples of years.</p></li>
<li><p><strong>**kwargs</strong> (<em>see scipy.signal.savgol_filter</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Smoothed data in the same shape as data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.generate_rings">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">generate_rings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#generate_rings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.generate_rings" title="Link to this definition"></a></dt>
<dd><p>Generator for a fiona shape’s coordinates object and yield rings.</p>
<p>As long as the input is conforming, the type of the geometry doesn’t matter.</p>
<section id="parameter">
<h3>Parameter<a class="headerlink" href="#parameter" title="Link to this heading"></a></h3>
<p>obj : fiona shape</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rings</strong> – Iterates over rings, each of which is a list of coordinate tuples.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>iterator</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.generate_coords">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">generate_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#generate_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.generate_coords" title="Link to this definition"></a></dt>
<dd><p>Generator for a fiona geometry’s coordinates.</p>
<p>As long as the input is conforming, the type of the geometry doesn’t
matter.</p>
<section id="id2">
<h3>Parameter<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>obj : fiona shape</p>
<dl class="field-list simple">
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coord</strong> – Iterates over coordinate tuples.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>iterator</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.close">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-07</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.close" title="Link to this definition"></a></dt>
<dd><p>Are two shapely shapes topologically equivalent and geometrically close?</p>
<p>Note this deals with things like rotations of polygons (clock-rotating the
coordinates of the same shape are still close) and other gotchas that keep
you from just comparing coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s1</strong> (<em>shapely shapes</em>) – Objects to compare.</p></li>
<li><p><strong>s2</strong> (<em>shapely shapes</em>) – Objects to compare.</p></li>
<li><p><strong>tol</strong> (<em>double</em>) – Distance to compare geometric closeness.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>close</strong> – Is close?</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.contains">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-07</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.contains" title="Link to this definition"></a></dt>
<dd><p>A contains algorithm that deals with close/roundoff issues</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="watershed_workflow.utils.CutError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">CutError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutline</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#CutError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.CutError" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.cut">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">cut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#cut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.cut" title="Link to this definition"></a></dt>
<dd><p>Cuts a line at all intersections with cutline.  If an existing
point in line is within tol of the cutline, do not add an additional
coordinate, just move that coordinate.  Otherwise, add a new
coordinate.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.distance">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.distance" title="Link to this definition"></a></dt>
<dd><p>Distance between two points in tuple form</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.in_neighborhood">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">in_neighborhood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#in_neighborhood"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.in_neighborhood" title="Link to this definition"></a></dt>
<dd><p>Determines if two objects can possibly intersect by performing a
quick check of their bounding boxes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.intersect_point_to_segment">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">intersect_point_to_segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#intersect_point_to_segment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.intersect_point_to_segment" title="Link to this definition"></a></dt>
<dd><p>Finds the nearest point on a line segment to a point</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.nearest_point">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">nearest_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#nearest_point"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.nearest_point" title="Link to this definition"></a></dt>
<dd><p>Returns the nearest coordinate on the line to point.</p>
<p>Note point is expected as coordinates.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.triangle_area">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">triangle_area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#triangle_area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.triangle_area" title="Link to this definition"></a></dt>
<dd><p>Area of a triangle in 2D</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.is_collinear">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">is_collinear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#is_collinear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.is_collinear" title="Link to this definition"></a></dt>
<dd><p>this function checks if three points are collinear for given tolerance value</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.area">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">area</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#area"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.area" title="Link to this definition"></a></dt>
<dd><p>Area of polygons in 2D</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.angle">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#angle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.angle" title="Link to this definition"></a></dt>
<dd><p>Given two 2D vectors represented as len 2 arrays or tuples, find the angle
of 2 relative to 1 in a clockwise notion.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.midpoint">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">midpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#midpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.midpoint" title="Link to this definition"></a></dt>
<dd><p>Returns the midpoint of two points</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.closest_point_ind">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">closest_point_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">point</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#closest_point_ind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.closest_point_ind" title="Link to this definition"></a></dt>
<dd><p>Returns the index of closest point from an array of points</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.center">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">center</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centering</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#center"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.center" title="Link to this definition"></a></dt>
<dd><p>Centers a collection of objects by removing their collective centroid</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.orientation">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#orientation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.orientation" title="Link to this definition"></a></dt>
<dd><p>to find the orientation of an ordered triplet (p1,p2,p3) function returns the following values:
0 : Collinear points
1 : Clockwise points
2 : Counterclockwise</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.intersects">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">intersects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shp1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shp2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#intersects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.intersects" title="Link to this definition"></a></dt>
<dd><p>Checks whether an intersection exists.</p>
<p>Note that intersection being empty and intersects are not always reliably
the same… we avoid using shapely.intersects() for this reason.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.non_point_intersection">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">non_point_intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shp1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shp2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#non_point_intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.non_point_intersection" title="Link to this definition"></a></dt>
<dd><p>Checks whether an intersection is larger than a point.</p>
<p>Note that intersection being empty and intersects are not always reliably
the same… we avoid using intersects() for this reason.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.volumetric_intersection">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">volumetric_intersection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shp1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shp2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#volumetric_intersection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.volumetric_intersection" title="Link to this definition"></a></dt>
<dd><p>Checks whether an intersection includes volume and not just points and lines.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.filter_to_shape">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">filter_to_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_filter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'intersects'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#filter_to_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.filter_to_shape" title="Link to this definition"></a></dt>
<dd><p>Filters out reaches (or reaches in rivers) not inside the HUCs provided.</p>
<p>algorithm is one of ‘contains’ or ‘intersects’ to indicate whether
to include things entirely in shape or partially in shape,
respectively.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.cluster">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">cluster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#cluster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.cluster" title="Link to this definition"></a></dt>
<dd><p>Given a list of points, determine a list of clusters.</p>
<p>Each cluster is within tol of each other.</p>
<p>Returns (cluster_index, cluster_centroid)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="watershed_workflow.utils.treat_segment_collinearity">
<span class="sig-prename descclassname"><span class="pre">watershed_workflow.utils.</span></span><span class="sig-name descname"><span class="pre">treat_segment_collinearity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">segment_coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/watershed_workflow/utils.html#treat_segment_collinearity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#watershed_workflow.utils.treat_segment_collinearity" title="Link to this definition"></a></dt>
<dd><p>This functions removes collinearity from a node segment by making small pertubations orthogonal to the segment</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data.html" class="btn btn-neutral float-left" title="Data Manipulation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="gallery.html" class="btn btn-neutral float-right" title="Gallery" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-202X, UT Battelle, Ethan Coon.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>